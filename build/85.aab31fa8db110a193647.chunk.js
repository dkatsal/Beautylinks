(window.webpackJsonp=window.webpackJsonp||[]).push([[85],{"4fa102d0fec510931a08":function(e,t,o){"use strict";o.r(t);var n=o("331f86f8774175b2781f"),a=o.n(n),i=o("8af190b70a6bc55c6f1b"),r=o.n(i),s=o("6938d226fd372a75cbf9"),d=(o("8a2d1b95e05b6a321e74"),o("3dfd612761b1dd8d2fc3")),c=o.n(d),u=o("c7fd554010f79f6c0ef8"),l=o.n(u);function p(e){return(p="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e}).apply(this,arguments)}function h(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var g=function(e){function t(e){var o,n,i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(o=!(i=m(t).call(this,e))||"object"!==p(i)&&"function"!==typeof i?b(n):i).state={options:[],defaultData:e.defaultData||null},o.autoDetectLocation(),o.handleChange=a()(o.searchLocationAlt.bind(b(o)),400),o}var o,n,i;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(t,r.a.Component),o=t,(n=[{key:"searchLocationAlt",value:function(e){var t=this;if(!(e.length<3)){var o=new XMLHttpRequest;o.addEventListener("load",function(){var e=JSON.parse(o.responseText);if(e&&e.Response&&e.Response.View&&e.Response.View[0]&&e.Response.View[0].Result){var n=e.Response.View[0].Result.map(function(e){return{display_name:e.Location.Address.Label,lat:e.Location.DisplayPosition.Latitude,lon:e.Location.DisplayPosition.Longitude,address:{street:e.Location.Address.Street,house_number:e.Location.Address.HouseNumber?e.Location.Address.HouseNumber:"",country:e.Location.Address.AdditionalData[0]?e.Location.Address.AdditionalData[0].value:"",country_code:e.Location.Address.Country,city:e.Location.Address.City,postcode:e.Location.Address.PostalCode}}});t.setState({options:n})}}),o.open("GET","https://geocoder.ls.hereapi.com/6.2/geocode.json?apiKey=".concat("VwDOELLAKPxhTm8gkE0W9SBVX3xWmjStubWYKOlUiCk","&searchtext=").concat(e,"&country=UKR&language=ru")),o.send()}}},{key:"autoDetectLocation",value:function(){var e=this;navigator.geolocation?navigator.geolocation.getCurrentPosition(function(t){if(t.coords.latitude&&t.coords.longitude){var o=new XMLHttpRequest;o.addEventListener("load",function(){var t=JSON.parse(o.responseText);if(t&&t.Response&&t.Response.View&&t.Response.View[0]&&t.Response.View[0].Result){var n=t.Response.View[0].Result.map(function(e){return{display_name:e.Location.Address.Label,lat:e.Location.DisplayPosition.Latitude,lon:e.Location.DisplayPosition.Longitude,address:{street:e.Location.Address.Street,house_number:e.Location.Address.HouseNumber?e.Location.Address.HouseNumber:"",country:e.Location.Address.AdditionalData[0]?e.Location.Address.AdditionalData[0].value:"",country_code:e.Location.Address.Country,city:e.Location.Address.City,postcode:e.Location.Address.PostalCode}}});e.setState({options:n,defaultOption:n[0]},function(){console.log(e.state)})}}),o.open("GET","https://reverse.geocoder.ls.hereapi.com/6.2/reversegeocode.json?prox=".concat(t.coords.latitude,",").concat(t.coords.longitude,",250&mode=retrieveAddresses&maxresults=1&gen=9&apiKey=").concat("VwDOELLAKPxhTm8gkE0W9SBVX3xWmjStubWYKOlUiCk")),o.send()}}):console.error("Geolocation is not supported by this browser!")}},{key:"render",value:function(){var e=this,t=this.props,o=t.classes,n=t.handleSelect,a=t.classesRoot,i=t.label,s=t.inputClassName,d=t.valueData,u=this.state,p=u.options,h=u.defaultData,m=d?{value:{display_name:d.addr,lat:d.lat,lon:d.lng}}:{};return r.a.createElement(c.a,f({ref:this.autocompleteField,filterOptions:function(e){return e},options:p,autoComplete:!0,includeInputInList:!0,getOptionLabel:function(e){return e.display_name},onChange:function(e,t){return n(t)},defaultValue:h?{display_name:h.addr,lat:h.lat,lon:h.lon}:null},m,{renderInput:function(t){return r.a.createElement(l.a,f({},t,{className:s,classes:{root:a||o.addressInput},label:i,placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0430\u0434\u0440\u0435\u0441",fullWidth:!0,autoComplete:"false",onChange:function(t){e.handleChange(t.target.value)}}))}}))}}])&&h(o.prototype,n),i&&h(o,i),t}(),L=Object(s.withStyles)(function(){return{inputBox:{position:"relative",marginRight:32,width:300},input:{padding:"0 85px 0 25px",width:"100%",color:"#4d4d4d",border:"none",fontSize:16,"@media (max-width:767px)":{height:60},"@media (min-width:768px)":{padding:"0 40px 0 20px",height:58},"@media (min-width:1024px) and (max-width:1439px)":{height:50,padding:"0 25px 0 10px"},"@media (min-width:1440px)":{height:50,padding:"0 85px 0 25px",borderRadius:5}},addressInput:{height:50,backgroundColor:"#fff","@media (min-width:1440px)":{borderRadius:10},"& input":{width:250,height:30,"@media (max-width:767px)":{padding:"0!important"}},"& > div":{"@media (max-width:1439px)":{padding:"5px 10px 4px"},"@media (min-width:1440px)":{padding:"5px 20px 10px"},"&:before":{display:"none"},"&:after":{display:"none"},"& button:last-child":{display:"none"}}}}})(g);t.default=Object(i.memo)(L)}}]);